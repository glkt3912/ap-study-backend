/**
 * 応用情報技術者試験対応 学習項目定義
 * 各科目ごとの標準的な学習項目を定義
 */

export const standardTopicsBySubject: Record<string, string[]> = {
  'コンピュータの基礎理論': [
    // 基数変換・論理演算
    '2進数・8進数・16進数',
    '基数変換',
    '固定小数点・浮動小数点',
    'IEEE754浮動小数点',
    '論理演算（AND・OR・NOT・XOR）',
    'ブール代数',
    '論理式の簡単化',
    'カルノー図',
    '真理値表',
    'ド・モルガンの定理',

    // 組み合わせ論理回路・順序回路
    '論理回路設計',
    '組み合わせ論理回路',
    '半加算器・全加算器',
    'エンコーダ・デコーダ',
    'マルチプレクサ・デマルチプレクサ',
    'フリップフロップ',
    '順序回路',
    'カウンタ',
    'シフトレジスタ',

    // 確率・統計
    '確率の基本概念',
    '条件付き確率',
    'ベイズの定理',
    '平均・分散・標準偏差',
    '正規分布',
    '二項分布',
    'ポアソン分布',
    '回帰分析',
    '相関係数',
    '検定・推定',

    // 情報理論
    '情報量・エントロピー',
    'ハフマン符号',
    '通信路容量',
    'シャノンの定理',
    'データ圧縮理論',
    '誤り検出・訂正',
    'ハミング符号',
    'パリティチェック',
    'CRC（巡回冗長検査）',

    // オートマトン・形式言語
    '有限オートマトン',
    '正規表現',
    '文脈自由文法',
    'プッシュダウンオートマトン',
    'チューリング機械',
    '計算可能性',
    'P≠NP問題の基礎'
  ],

  'アルゴリズムとデータ構造': [
    // 基本アルゴリズム
    '線形探索・二分探索',
    'バブルソート',
    '選択ソート',
    '挿入ソート',
    'クイックソート',
    'マージソート',
    'ヒープソート',
    '計数ソート',
    '基数ソート',
    '文字列照合アルゴリズム',

    // データ構造
    '配列・リスト',
    'スタック・キュー',
    '連結リスト（単方向・双方向）',
    '循環リスト',
    '二分木',
    'バランス木（AVL・赤黒木）',
    'B木・B+木',
    'ヒープ',
    'ハッシュテーブル',
    'グラフ（隣接リスト・隣接行列）',

    // グラフアルゴリズム
    '深さ優先探索（DFS）',
    '幅優先探索（BFS）',
    'ダイクストラ法',
    'フロイド・ワーシャル法',
    'ベルマン・フォード法',
    'クラスカル法',
    'プリム法',
    '最大流問題',
    'フォード・フルカーソン法',
    'トポロジカルソート',

    // 動的計画法・分割統治
    '動的計画法の基本',
    'フィボナッチ数列',
    'ナップサック問題',
    '最長共通部分列（LCS）',
    '最長増加部分列（LIS）',
    'コインチェンジ問題',
    '分割統治法',
    '二分探索の応用',
    '最近点対問題',

    // 計算量
    'オーダー記法（O記法）',
    '時間計算量',
    '空間計算量',
    '最良・平均・最悪時間',
    'アモータイズド解析',
    'マスター定理',
    'NP困難・NP完全',
    '近似アルゴリズム'
  ],

  'ハードウェア基礎': [
    // プロセッサアーキテクチャ
    'CPU（中央処理装置）',
    '命令セットアーキテクチャ（ISA）',
    'RISC・CISC',
    '命令フォーマット',
    '演算装置（ALU）',
    '制御装置',
    'レジスタ',
    'プログラムカウンタ',
    '割り込み処理',

    // メモリシステム
    'メモリ階層',
    '主記憶装置（RAM・ROM）',
    'SRAM・DRAM',
    'フラッシュメモリ',
    'キャッシュメモリ',
    'キャッシュの局所性',
    'キャッシュライン・セット',
    '仮想メモリ',
    'ページング・セグメンテーション',
    'TLB（Translation Lookaside Buffer）',

    // 入出力システム
    '入出力装置',
    '入出力制御方式',
    'ポーリング',
    '割り込み',
    'DMA（Direct Memory Access）',
    '入出力プロセッサ（IOP）',
    'チャネル',
    'バス',
    '周辺機器制御',

    // ストレージ
    'ハードディスクドライブ（HDD）',
    'ソリッドステートドライブ（SSD）',
    '光学ディスク',
    'テープ装置',
    'RAID',
    'ファイルシステム',
    '記憶階層管理',
    'ディスクスケジューリング',

    // パフォーマンス
    '処理性能の指標',
    'MIPS・FLOPS',
    'ベンチマーク',
    'アムダールの法則',
    'パイプライン処理',
    'スーパースカラ',
    'アウトオブオーダー実行',
    '投機実行',
    'マルチコア・マルチプロセッサ'
  ],

  'ソフトウェア基礎': [
    // オペレーティングシステム
    'OS の役割と機能',
    'プロセス管理',
    'スレッド',
    'プロセス間通信（IPC）',
    'セマフォ・ミューテックス',
    'デッドロック',
    'CPU スケジューリング',
    'メモリ管理',
    'ファイルシステム',
    'デバイス管理',

    // プログラミング言語
    'プログラミング言語の分類',
    'コンパイラ・インタープリタ',
    '字句解析・構文解析',
    '意味解析・コード生成',
    'ガベージコレクション',
    '型システム',
    '関数型プログラミング',
    'オブジェクト指向',
    'ポリモーフィズム',
    'カプセル化・継承',

    // ソフトウェア工学
    'ソフトウェア開発プロセス',
    'ウォーターフォール・アジャイル',
    '要求分析・設計',
    'UML（Unified Modeling Language）',
    'テスト手法',
    '単体・結合・システムテスト',
    'ブラックボックス・ホワイトボックステスト',
    '品質保証',
    'バージョン管理',
    'CI/CD',

    // データ構造とプログラム
    'プログラム構造',
    'モジュール化',
    'API 設計',
    'ライブラリ・フレームワーク',
    'デザインパターン',
    'リファクタリング',
    'コードレビュー',
    'ドキュメンテーション'
  ],

  'データベース基礎': [
    // データベース基本概念
    'データベースの基本概念',
    'DBMS（Database Management System）',
    'データモデル',
    '関係モデル',
    '階層モデル・ネットワークモデル',
    'NoSQL データベース',
    'キー・バリュー',
    'ドキュメント',
    'カラム指向',
    'グラフデータベース',

    // 関係データベース
    '関係代数',
    'テーブル・行・列',
    '主キー・外部キー',
    '正規化',
    '第1正規形～第3正規形',
    'ボイス・コッド正規形（BCNF）',
    '非正規化',
    '関数従属性',
    '推移的関数従属',

    // SQL
    'SQL の基本構文',
    'SELECT 文',
    'WHERE 句・GROUP BY・HAVING',
    'ORDER BY・LIMIT',
    'JOIN（内部・外部結合）',
    '副問い合わせ（サブクエリ）',
    '集約関数',
    'ウィンドウ関数',
    'ビュー',
    'インデックス',

    // トランザクション・並行制御
    'トランザクション',
    'ACID特性',
    'コミット・ロールバック',
    '排他制御（ロック）',
    'デッドロック',
    'ログ・チェックポイント',
    '障害回復',
    '分散トランザクション',
    '2相コミット',

    // データベース設計・運用
    '概念設計・論理設計・物理設計',
    'ER図（Entity Relationship Diagram）',
    'データ辞書',
    'パフォーマンスチューニング',
    'クエリオプティマイザ',
    'バックアップ・リストア',
    'レプリケーション',
    'シャーディング',
    'データウェアハウス',
    'OLTP・OLAP'
  ],

  'ネットワーク基礎': [
    // ネットワーク基本概念
    'ネットワークの基本概念',
    'LAN・WAN・MAN',
    '通信プロトコル',
    'OSI 7層モデル',
    'TCP/IP 4層モデル',
    'プロトコルスタック',
    'カプセル化・脱カプセル化',
    '通信方式（同期・非同期）',
    '全二重・半二重',

    // 物理層・データリンク層
    '物理媒体',
    '同軸ケーブル・光ファイバ',
    'UTP・STP',
    '無線LAN',
    'Ethernet',
    'フレーム',
    'MAC アドレス',
    'スイッチングハブ',
    'ブリッジ',
    'VLAN',

    // ネットワーク層
    'IP アドレス',
    'IPv4・IPv6',
    'サブネットマスク',
    'CIDR（Classless Inter-Domain Routing）',
    'ルーティング',
    'RIP・OSPF・BGP',
    'NAT・NAPT',
    'DHCP',
    'DNS',
    'ICMP',

    // トランスポート層・アプリケーション層
    'TCP・UDP',
    'ポート番号',
    '信頼性制御',
    'フロー制御・輻輳制御',
    'HTTP・HTTPS',
    'FTP・SFTP',
    'SMTP・POP3・IMAP',
    'SNMP',
    'NTP',

    // ネットワーク設計・運用
    'ネットワーク設計',
    'トポロジー',
    'QoS（Quality of Service）',
    'ファイアウォール',
    'プロキシサーバ',
    'ロードバランサ',
    'ネットワーク監視',
    '障害対応',
    'パフォーマンス分析',
    'VPN（Virtual Private Network）'
  ],

  'セキュリティ基礎': [
    // セキュリティ基本概念
    '情報セキュリティの基本',
    '機密性・完全性・可用性（CIA）',
    '脅威・脆弱性・リスク',
    '情報資産',
    'セキュリティポリシー',
    'リスクアセスメント',
    'インシデント対応',
    'セキュリティ監査',

    // 暗号技術
    '暗号化の基本',
    '共通鍵暗号・公開鍵暗号',
    'AES・DES・3DES',
    'RSA・楕円曲線暗号',
    'ハッシュ関数',
    'SHA・MD5',
    'デジタル署名',
    'PKI（Public Key Infrastructure）',
    '電子証明書',
    'SSL/TLS',

    // 認証・アクセス制御
    '認証（Authentication）',
    '認可（Authorization）',
    'アカウンティング',
    '多要素認証（MFA）',
    '生体認証',
    'シングルサインオン（SSO）',
    'アクセス制御リスト（ACL）',
    'ロールベースアクセス制御（RBAC）',
    'ゼロトラストセキュリティ',

    // ネットワークセキュリティ
    'ファイアウォール',
    'IDS・IPS',
    'VPN',
    'DMZ',
    'WAF（Web Application Firewall）',
    'DDoS攻撃対策',
    'ペネトレーションテスト',
    '脆弱性スキャン',

    // マルウェア・攻撃手法
    'マルウェア（ウイルス・ワーム・トロイの木馬）',
    'ランサムウェア',
    'スパイウェア・アドウェア',
    'SQLインジェクション',
    'XSS（Cross-Site Scripting）',
    'CSRF（Cross-Site Request Forgery）',
    'フィッシング攻撃',
    'ソーシャルエンジニアリング',
    '中間者攻撃',

    // セキュリティ運用
    'ログ管理・監視',
    'SIEM（Security Information and Event Management）',
    'セキュリティインシデント対応',
    'フォレンジック',
    'セキュリティ教育・訓練',
    'CSIRT（Computer Security Incident Response Team）',
    'セキュリティ規格（ISO27001等）',
    'プライバシー保護',
    '個人情報保護法対応'
  ],

  'システム開発技法': [
    // 開発手法・プロセス
    'システム開発ライフサイクル（SDLC）',
    'ウォーターフォールモデル',
    'アジャイル開発',
    'スクラム',
    'エクストリームプログラミング（XP）',
    'DevOps',
    'リーンソフトウェア開発',
    '反復開発',
    'プロトタイピング',

    // 要求分析・設計
    '要求工学',
    '要求定義・仕様書',
    'ユースケース分析',
    'システム設計',
    '外部設計・内部設計',
    'アーキテクチャ設計',
    'オブジェクト指向設計',
    'DDD（Domain Driven Design）',
    'マイクロサービス',

    // モデリング・UML
    'UML（統一モデリング言語）',
    'クラス図',
    'オブジェクト図',
    'ユースケース図',
    'アクティビティ図',
    'シーケンス図',
    'コラボレーション図',
    'ステートチャート図',
    'コンポーネント図',
    '配置図',

    // 設計パターン
     'デザインパターン',
    'Singleton パターン',
    'Factory パターン',
    'Observer パターン',
    'Strategy パターン',
    'Command パターン',
    'MVC パターン',
    'Repository パターン',
    'アーキテクチャパターン',

    // テスト・品質保証
    'テスト設計',
    'テストケース・シナリオ',
    '同値分割・境界値分析',
    '原因結果グラフ',
    'テスト自動化',
    'TDD（Test Driven Development）',
    'BDD（Behavior Driven Development）',
    'コードレビュー',
    '静的解析',
    'メトリクス・品質測定',

    // 保守・運用
    'システム保守',
    '予防保守・事後保守',
    '適応保守・完全化保守',
    'リファクタリング',
    'レガシーシステム対応',
    'システム移行',
    'バージョン管理',
    '構成管理',
    'リリース管理'
  ],

  'プロジェクトマネジメント': [
    // プロジェクト管理基礎
    'プロジェクトマネジメントの基本',
    'PMBOK（Project Management Body of Knowledge）',
    'プロジェクトライフサイクル',
    'プロジェクト憲章',
    'ステークホルダー管理',
    'プロジェクト計画書',
    'スコープ管理',
    'WBS（Work Breakdown Structure）',

    // スケジュール・コスト管理
    'スケジュール管理',
    'ガントチャート',
    'PERT・CPM',
    'クリティカルパス',
    'アローダイアグラム',
    'マイルストーン管理',
    'コスト管理',
    'コスト見積もり',
    'EVM（Earned Value Management）',

    // リスク・品質管理
    'リスク管理',
    'リスク識別・分析・対応',
    'リスクレジスタ',
    '品質管理',
    'QC（Quality Control）',
    'QA（Quality Assurance）',
    '品質計画',
    '品質保証活動',

    // チーム・コミュニケーション
    'チーム管理',
    'プロジェクト組織',
    '役割・責任分担',
    'コミュニケーション管理',
    '会議運営',
    '進捗報告',
    'コンフリクト解決',
    'モチベーション管理',

    // 調達・契約管理
    '調達管理',
    '契約管理',
    'ベンダー管理',
    'SLA（Service Level Agreement）',
    '外注管理',

    // プロジェクト終結・改善
    'プロジェクト終結',
    '成果物管理',
    '教訓の抽出',
    'プロジェクト評価',
    '継続的改善'
  ],

  'サービスマネジメント': [
    // ITIL・サービス管理
    'ITIL（IT Infrastructure Library）',
    'ITサービス管理',
    'サービスライフサイクル',
    'サービス戦略',
    'サービス設計',
    'サービス移行',
    'サービス運用',
    '継続的サービス改善',

    // インシデント・問題管理
    'インシデント管理',
    'インシデント対応プロセス',
    '問題管理',
    '根本原因分析',
    '既知エラー管理',
    'エスカレーション',

    // 変更・構成管理
    '変更管理',
    '変更要求・変更承認',
    '構成管理',
    'CMDB（Configuration Management Database）',
    '構成アイテム（CI）',
    'リリース・展開管理',

    // 可用性・キャパシティ管理
    '可用性管理',
    'MTBF・MTTR',
    'RTO・RPO',
    '障害対策・冗長化',
    'キャパシティ管理',
    'パフォーマンス管理',
    'キャパシティプランニング',

    // サービスレベル管理
    'SLM（Service Level Management）',
    'SLA（Service Level Agreement）',
    'KPI・KGI',
    'サービス品質測定',
    '顧客満足度',

    // 財務・継続性管理
    'ITサービス財務管理',
    'コスト管理',
    '予算管理',
    'ITサービス継続性管理',
    '事業継続計画（BCP）',
    '災害復旧計画（DRP）',

    // サプライヤー・セキュリティ管理
    'サプライヤー管理',
    'ベンダー管理',
    '契約管理',
    '情報セキュリティ管理',
    'アクセス管理'
  ],

  '午前問題演習': [
    // 基礎理論系
    '基礎理論問題演習',
    '離散数学演習',
    '応用数学演習',
    '情報理論演習',
    'アルゴリズム演習',
    'データ構造演習',
    'プログラミング演習',
    'プログラム言語演習',
    'その他の言語演習',

    // コンピュータシステム系
    'コンピュータ構成要素演習',
    'システム構成要素演習',
    'ソフトウェア演習',
    'ハードウェア演習',

    // 技術要素系
    'ヒューマンインタフェース演習',
    'マルチメディア演習',
    'データベース演習',
    'ネットワーク演習',
    'セキュリティ演習',

    // 開発技術系
    'システム開発技術演習',
    'ソフトウェア開発管理技術演習',

    // マネジメント系
    'プロジェクトマネジメント演習',
    'サービスマネジメント演習',
    'システム監査演習',

    // ストラテジ系
    'システム戦略演習',
    'システム企画演習',
    '経営戦略演習',
    '技術戦略演習',
    'ビジネスインダストリ演習',
    '企業活動演習',
    '法務演習',

    // 過去問年度別
    '令和6年春期問題',
    '令和5年秋期問題',
    '令和5年春期問題',
    '令和4年秋期問題',
    '令和4年春期問題',
    '令和3年秋期問題',
    '令和2年秋期問題',
    '平成31年春期問題',

    // 弱点克服
    '計算問題対策',
    '暗記問題対策',
    '頻出問題演習',
    '応用問題演習'
  ],

  '午後問題演習': [
    // 必須問題（情報セキュリティ）
    '情報セキュリティ問題演習',
    '暗号化技術演習',
    '認証システム演習',
    'ネットワークセキュリティ演習',
    'Webアプリケーションセキュリティ演習',
    'マルウェア対策演習',
    'インシデント対応演習',
    '脆弱性対策演習',

    // 選択問題群
    '経営戦略問題演習',
    'IT戦略問題演習',
    'プログラミング問題演習',
    'システムアーキテクチャ問題演習',
    'ネットワーク問題演習',
    'データベース問題演習',
    '組み込みシステム開発問題演習',
    '情報システム開発問題演習',
    'プロジェクトマネジメント問題演習',
    'ITサービスマネジメント問題演習',
    'システム監査問題演習',

    // プログラミング言語別
    'Java プログラミング演習',
    'Python プログラミング演習',
    'C言語プログラミング演習',
    'JavaScript プログラミング演習',
    'SQL プログラミング演習',

    // 記述対策
    '論理的記述訓練',
    '技術文書作成',
    '設計書記述',
    '仕様書記述',
    'システム提案書作成',

    // 過去問年度別
    '令和6年春期午後問題',
    '令和5年秋期午後問題',
    '令和5年春期午後問題',
    '令和4年秋期午後問題',
    '令和4年春期午後問題',
    '令和3年秋期午後問題',

    // 時間配分・戦略
    '午後試験戦略',
    '問題選択戦略',
    '時間配分練習',
    '部分点狙い',
    '見直し技法'
  ]
};

/**
 * 科目一覧を取得
 */
export const getSubjects = (): string[] => {
  return Object.keys(standardTopicsBySubject);
};

/**
 * 指定した科目の学習項目一覧を取得
 */
export const getTopicsBySubject = (subject: string): string[] => {
  return standardTopicsBySubject[subject] || [];
};

/**
 * 全ての学習項目を取得
 */
export const getAllTopics = (): string[] => {
  return Object.values(standardTopicsBySubject).flat();
};

/**
 * 学習項目を検索（部分一致・大文字小文字無視）
 */
export const searchTopics = (query: string, subject?: string): string[] => {
  const topics = subject ? getTopicsBySubject(subject) : getAllTopics();
  return topics.filter(topic => 
    topic.toLowerCase().includes(query.toLowerCase())
  );
};